/* ===== tokens ===== */
:root{
  --bg: hsl(224 40% 98%);
  --surface: hsl(0 0% 100%);
  --glass: hsl(0 0% 100% / .62);
  --glassAlt: hsl(0 0% 100% / .52);
  --text: hsl(222 19% 16%);
  --muted: hsl(224 10% 40%);
  --outline: hsl(220 18% 86%);
  --accent: hsl(221 83% 53%);

  --hdrH: 64px;
  --tapeH: 30px;
  --radius: 14px;
  --shadow: 0 10px 30px hsl(220 35% 8% / .12);
}

html, body, #root { height: 100% }
*{ box-sizing: border-box }
body{
  margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial;
  color: var(--text); background: var(--bg);
}

/* Dark theme */
html[data-theme="dark"]{
  --bg: hsl(240 6% 9%);
  --surface: hsl(240 6% 13%);
  --glass: hsl(240 6% 16% / .55);
  --glassAlt: hsl(240 6% 14% / .45);
  --text: hsl(0 0% 98%);
  --muted: hsl(0 0% 78%);
  --outline: hsl(240 6% 22%);
  --accent: hsl(220 90% 66%);
  --shadow: 0 12px 34px hsl(0 0% 0% / .45);
}

/* ===== frosted animated backdrop (single-canvas look) ===== */
.bg-anim{
  position: fixed; inset: 0; z-index: -1;
  background:
    radial-gradient(900px 600px at 10% -20%, hsl(210 100% 97%), transparent),
    radial-gradient(900px 600px at 90% -30%, hsl(280 100% 97%), transparent),
    linear-gradient(var(--bg), var(--bg));
  animation: bgFloat 16s ease-in-out infinite alternate;
}
@keyframes bgFloat {
  0%   { filter: hue-rotate(0deg) saturate(1); }
  100% { filter: hue-rotate(8deg) saturate(1.05); }
}

/* ===== header + tape ===== */
.fixed-header{
  position: fixed; inset: 0 0 auto 0; height: var(--hdrH); z-index: 60;
  background: var(--surface); border-bottom: 1px solid var(--outline);
  backdrop-filter: saturate(1.1) blur(8px);
}
.header-inner{
  max-width: 1200px; height: 100%; margin: 0 auto; padding: 0 12px;
  display: grid; grid-template-columns: 1fr auto; align-items: center; gap: 10px;
}
.brand{ display: grid; grid-template-columns: auto 1fr; gap: 10px; align-items: center }
.brand-mark{
  width: 34px; height: 34px; border-radius: 9px;
  display: grid; place-items: center;
  font-weight: 900; color: white;
  background: linear-gradient(135deg, hsl(220 90% 60%), hsl(260 80% 62%));
  box-shadow: 0 8px 18px hsl(240 70% 40% / .25);
}
.brand-text{ display: grid; gap: 2px }
.brand-big{ font-weight: 800; font-size: clamp(16px, 4vw, 22px) }
.brand-small{ font-weight: 600; font-size: clamp(12px, 3.2vw, 13px); color: var(--muted) }

.header-actions{ display: flex; gap: 8px; align-items: center; }
.hide-xs{ display: none }
@media (min-width: 520px){ .hide-xs{ display: inline-flex } }

.fixed-tape{
  position: fixed; left: 0; right: 0; top: var(--hdrH); z-index: 50;
  min-height: var(--tapeH);
}
.tv-opaque{ background: var(--surface); border-bottom: 1px solid var(--outline) }

/* Tape scale wrapper (keeps it small on phones) */
.tv-wrap{
  height: var(--tapeH); overflow: hidden;
  --tvScale: 0.90;
}
.tv-wrap .tradingview-widget-container__widget{
  transform: scale(var(--tvScale));
  transform-origin: top left;
  width: calc(100% / var(--tvScale));
}
@media (min-width: 640px){ .tv-wrap{ --tvScale: 1 } }

/* ===== buttons / inputs ===== */
.btn{
  --bgBtn: var(--surface);
  display: inline-flex; align-items: center; gap: 8px;
  height: 38px; padding: 0 12px; border-radius: 12px;
  border: 1px solid var(--outline); background: var(--bgBtn); color: var(--text);
  cursor: pointer; transition: .15s ease transform, .15s ease box-shadow, .15s ease background;
}
.btn:hover{ box-shadow: 0 8px 20px hsl(0 0% 0% / .08) }
.btn:active{ transform: scale(.98) }
.btn.primary{ --bgBtn: color-mix(in hsl, var(--accent) 92%, white); color: white; border-color: transparent }
.btn.ghost{ background: transparent }
.btn.icon{ width: 38px; justify-content: center; padding: 0 }
.btn.sm{ height: 30px; padding: 0 10px }

/* prevent header overflow for long text button */
.contact-cta{ max-width: 180px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap }

/* inputs */
.input{
  width: 100%; height: 44px; border-radius: 12px; padding: 0 12px;
  border: 1px solid var(--outline); background: var(--surface); color: var(--text);
  outline: none;
}

/* ===== layout & glass panels ===== */
.page-under-fixed{ padding-top: calc(var(--hdrH) + var(--tapeH) + 16px) }

.panel.glass{
  max-width: 1200px; margin: 18px auto; padding: 18px 12px 22px;
  background: var(--glass); border: 1px solid var(--outline);
  border-radius: var(--radius); box-shadow: var(--shadow);
  backdrop-filter: blur(12px) saturate(1.2);
}

.section.glass-alt{
  max-width: 1200px; margin: 18px auto; padding: 18px 12px 22px;
  background: var(--glassAlt); border: 1px solid var(--outline);
  border-radius: var(--radius); box-shadow: var(--shadow);
  backdrop-filter: blur(10px) saturate(1.1);
}

/* tidy form/controls on mobile */
.action-stack{ display: grid; gap: 10px }
.action-row{ display: grid; grid-template-columns: 1fr 1fr; gap: 8px }
@media (min-width: 640px){
  .action-stack{ grid-template-columns: 1fr auto; align-items: start }
  .action-row{ grid-template-columns: auto auto }
}

/* tabs */
.tabs{ display: flex; gap: 8px; overflow-x: auto; padding-bottom: 4px; }
.tab{
  height: 36px; padding: 0 14px; border-radius: 999px;
  background: var(--surface); border: 1px solid var(--outline); cursor: pointer; color: var(--text);
}
.tab.active{ background: color-mix(in hsl, var(--accent) 16%, transparent); border-color: var(--accent) }

/* snapshot grid */
.grid{
  display: grid; gap: 12px; margin-top: 12px;
  grid-template-columns: repeat(4, 1fr);
}
@media (max-width: 900px){ .grid{ grid-template-columns: repeat(2, 1fr) } }
@media (max-width: 560px){ .grid{ grid-template-columns: 1fr } }

.card{
  background: var(--surface); border: 1px solid var(--outline);
  border-radius: 12px; padding: 14px; box-shadow: var(--shadow);
}
.label{ color: var(--muted); font-weight: 600; margin-bottom: 6px }
.value{ font-size: clamp(18px, 3.6vw, 24px); font-weight: 800 }
.sub{ color: var(--muted); font-size: 12px; margin-top: 6px }
.mono{ font-variant-numeric: tabular-nums }
.up{ color: hsl(147 70% 42%) } .down{ color: hsl(6 80% 55%) }
.footnote{ color: var(--muted); font-size: 12px; margin-top: 10px; display: flex; gap: 6px; align-items: center }
.dot{ width: 8px; height: 8px; border-radius: 50%; background: var(--accent); display: inline-block }

/* news */
.news-grid{
  display: grid; gap: 12px; margin-top: 12px;
  grid-template-columns: repeat(3, 1fr);
}
@media (max-width: 900px){ .news-grid{ grid-template-columns: repeat(2, 1fr) } }
@media (max-width: 560px){ .news-grid{ grid-template-columns: 1fr } }
.news{
  text-decoration: none; color: inherit;
  background: var(--surface); border: 1px solid var(--outline); border-radius: 12px;
  padding: 12px; box-shadow: var(--shadow);
}
.news:hover{ outline: 1px solid var(--accent) }
.news-meta{ color: var(--muted); font-size: 12px; margin-bottom: 4px }
.news-title{ font-weight: 800; margin-bottom: 4px }
.news-snippet{ color: var(--muted) }

/* sentiment */
.sent-grid{
  display: grid; gap: 12px; margin-top: 12px;
  grid-template-columns: repeat(2, 1fr);
}
@media (max-width: 780px){ .sent-grid{ grid-template-columns: 1fr } }
.sent-card{
  background: var(--surface); border: 1px solid var(--outline);
  border-radius: 12px; padding: 14px; box-shadow: var(--shadow);
}
.sent-title{ margin: 0 0 8px; font-weight: 800 }
.sent-row{ display: grid; grid-template-columns: 110px 1fr; gap: 10px; align-items: center; margin: 8px 0 }
.sent-label{ color: var(--muted); font-weight: 600 }
.sent-bar{ position: relative; height: 12px; border-radius: 999px; background: color-mix(in hsl, var(--accent) 10%, transparent); border: 1px solid var(--outline); overflow: hidden }
.sent-fill{ position: absolute; inset: 0 auto 0 0; width: 50%; background: linear-gradient(90deg, var(--accent), hsl(147 70% 48%)); }
.sent-val{ position: absolute; right: 8px; top: 50%; transform: translateY(-50%); font-size: 11px; color: var(--surface) }

/* empty */
.empty{ text-align: center; padding: 28px 10px }
.empty .emoji{ font-size: 40px }
.empty .title{ font-weight: 800; margin-top: 6px }

/* footer */
.footer{ background: var(--surface); border-top: 1px solid var(--outline); margin-top: 30px }
.footer-inner{
  max-width: 1200px; margin: 0 auto; padding: 14px 12px;
  display: flex; gap: 10px; align-items: center; justify-content: space-between;
}
.footer-actions{ display: flex; gap: 8px; flex-wrap: wrap }
@media (max-width: 640px){ .footer-inner{ flex-direction: column; align-items: stretch } }

/* modals */
.modal-dim{
  position: fixed; inset: 0; z-index: 80;
  background: hsl(0 0% 0% / .42); backdrop-filter: blur(10px);
}
.modal-card{
  position: fixed; z-index: 90; left: 0; right: 0; margin: 0 auto;
  top: clamp(56px, 14vh, 140px);
  width: min(680px, calc(100% - 24px));
  background: var(--surface); border: 1px solid var(--outline);
  border-radius: 16px; box-shadow: var(--shadow);
}
.modal-head{ display: flex; align-items: center; justify-content: space-between; padding: 12px 14px; border-bottom: 1px solid var(--outline) }
.modal-head h3{ margin: 0; font-weight: 800 }
.modal-body{ padding: 14px }
.list{ margin: 0; padding-left: 18px }
.list li{ margin: 6px 0 }

/* accessibility */
:focus-visible{ outline: 2px solid color-mix(in hsl, var(--accent) 60%, white); outline-offset: 2px }

/* very small phones */
@media (max-width: 380px){
  :root{ --hdrH: 56px; --tapeH: 28px }
  .btn{ height: 36px; padding: 0 10px }
  .contact-cta{ max-width: 140px }
}
/* --- Brand uses the SVG (no overflow, perfect centering) --- */
.brand-mark{
  width: 34px; height: 34px; border-radius: 9px;
  display: grid; place-items: center;
  background: transparent; /* remove gradient box */
  box-shadow: none;        /* no heavy shadow behind the logo */
}
.brand-svg{
  width: 100%; height: 100%;
  border-radius: 50%;
}

/* Better spacing/alignment for header on small screens */
.header-inner{
  max-width: 1200px; height: 100%; margin: 0 auto; padding: 0 12px;
  display: grid; grid-template-columns: auto 1fr auto; gap: 10px; align-items: center;
}
.brand{ display: grid; grid-template-columns: auto 1fr; gap: 10px; align-items: center }
.brand-text{ display: grid; gap: 0 }
.brand-big{ font-weight: 800; font-size: clamp(16px, 4vw, 22px) }
.brand-small{ font-weight: 600; font-size: clamp(12px, 3.2vw, 13px); color: var(--muted) }

.header-actions{ display: flex; gap: 8px; align-items: center }
.btn.icon{ width: 36px; height: 36px; padding: 0; justify-content: center }
.contact-cta{ max-width: 180px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap }

/* Keep tape small on phones */
.tv-wrap{ --tvScale: 0.90; height: var(--tapeH); overflow: hidden }
.tv-wrap .tradingview-widget-container__widget{
  transform: scale(var(--tvScale)); transform-origin: top left; width: calc(100% / var(--tvScale));
}
@media (min-width: 640px){ .tv-wrap{ --tvScale: 1 } }

/* ===== CandL — App.css (drop-in) ===== */

/* Theme tokens */
:root {
  --bg: #0b0e13;
  --bg-soft: #121722;
  --surface: #151b26;
  --text: #e8eefc;
  --muted: #9aa7bd;
  --brand: #7aa2ff;
  --brand-2: #4cc9f0;
  --ok: #22c55e;
  --warn: #f59e0b;
  --bad: #ef4444;
  --ring: rgba(122,162,255,.6);
  --glass: rgba(16, 20, 33, .55);
  --shadow-1: 0 10px 30px rgba(0,0,0,.35);
  --shadow-2: 0 25px 50px rgba(0,0,0,.45);
}

* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body {
  margin: 0;
  color: var(--text);
  background:
    radial-gradient(1200px 600px at -20% -10%, rgba(74, 222, 128, .08), transparent 60%),
    radial-gradient(1000px 450px at 120% 20%, rgba(56, 189, 248, .08), transparent 60%),
    radial-gradient(1400px 800px at 50% 120%, rgba(99, 102, 241, .10), transparent 60%),
    linear-gradient(180deg, #0a0d12, #0e1320 50%, #0a0d12);
  font: 400 15px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
}

/* Layout */
.app-wrap { min-height: 100%; display: flex; flex-direction: column; }
.container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 16px; }
.stack { display: grid; gap: 16px; }
.grid { display: grid; gap: 16px; grid-template-columns: repeat(12, 1fr); }
@media (max-width: 900px){ .grid { grid-template-columns: repeat(6, 1fr);} }
@media (max-width: 640px){ .grid { grid-template-columns: repeat(4, 1fr);} }

/* Header */
.header {
  position: sticky; top: 0; z-index: 30;
  backdrop-filter: saturate(1.2) blur(10px);
  background: linear-gradient(180deg, rgba(10,12,18,.85), rgba(10,12,18,.55));
  border-bottom: 1px solid rgba(122,162,255,.12);
}
.header-row { display: flex; align-items: center; gap: 12px; padding: 10px 16px; }
.brand {
  display: flex; align-items: center; gap: 10px; font-weight: 800; letter-spacing: .3px;
  font-size: 18px;
}
.logo {
  display: grid; place-items: center;
  width: 28px; height: 28px; border-radius: 50%;
  background: radial-gradient(circle at 30% 20%, #4cc9f0, #7aa2ff 60%, #4f46e5);
  box-shadow: inset 0 0 12px rgba(255,255,255,.25), var(--shadow-1);
  font-weight: 900; color: white; font-size: 14px;
}
.header-spacer { flex: 1; }
.header-actions { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }

/* Buttons */
.btn {
  appearance: none; border: 0; color: var(--text);
  background: linear-gradient(180deg, rgba(122,162,255,.18), rgba(122,162,255,.10));
  border: 1px solid rgba(122,162,255,.25);
  padding: 9px 14px; border-radius: 10px; font-weight: 600; cursor: pointer;
  box-shadow: var(--shadow-1); transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
}
.btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-2); }
.btn:active { transform: translateY(0); }
.btn.primary {
  background: linear-gradient(180deg, var(--brand), #537ce8);
  border: 1px solid rgba(83,124,232,.7);
}
.btn.pill { border-radius: 999px; padding: 8px 14px; }
.btn.ghost {
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(122,162,255,.18);
}

/* Tabs */
.tabs { display: flex; gap: 8px; flex-wrap: wrap; }
.tab {
  border-radius: 999px; padding: 7px 14px; cursor: pointer; font-weight: 600;
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(122,162,255,.18);
}
.tab.active {
  background: linear-gradient(180deg, rgba(122,162,255,.28), rgba(122,162,255,.12));
  border-color: rgba(122,162,255,.45);
  box-shadow: 0 0 0 2px var(--ring);
}

/* Glass panels */
.panel {
  background: var(--glass);
  border: 1px solid rgba(122,162,255,.18);
  border-radius: 16px;
  box-shadow: var(--shadow-2);
  backdrop-filter: blur(14px) saturate(1.1);
  padding: 18px;
}

.hero { margin-top: 18px; }
.hero-title { font-size: 34px; font-weight: 900; letter-spacing: .2px; margin: 0 0 6px; }
.hero-sub { color: var(--muted); margin-bottom: 10px; }

/* Search row */
.search-row { display: grid; gap: 10px; grid-template-columns: 1fr auto; align-items: center; }
@media (max-width: 640px){
  .search-row { grid-template-columns: 1fr; }
  .tabs { margin-top: 4px; }
}
.input {
  width: 100%; border-radius: 12px; padding: 12px 14px; border: 1px solid rgba(122,162,255,.18);
  background: rgba(9, 12, 18, .55); color: var(--text);
  outline: none; box-shadow: inset 0 0 0 1px rgba(255,255,255,.02);
}
.input:focus { box-shadow: 0 0 0 3px var(--ring); }

/* Cards */
.card { border-radius: 14px; padding: 14px; background: rgba(255,255,255,.03); border: 1px solid rgba(122,162,255,.15); }
.card-title { font-weight: 800; margin-bottom: 8px; }

/* Lists */
.newslist { display: grid; gap: 12px; }
.news-item { display: grid; gap: 6px; padding: 12px; border-radius: 12px; background: rgba(255,255,255,.03); border: 1px solid rgba(122,162,255,.12); }
.news-head { display: flex; align-items: center; gap: 8px; color: var(--muted); font-size: 12px; }
.news-title { font-weight: 700; line-height: 1.35; }
.news-link { color: var(--brand-2); text-decoration: none; }
.news-link:hover { text-decoration: underline; }

/* Pills */
.pill { display:inline-block; padding:4px 10px; border-radius:999px; margin-right:6px; margin-bottom:6px; font-weight:700; font-size:12px; }
.pill-pos { background: rgba(34,197,94,.14); color:#22c55e; border: 1px solid rgba(34,197,94,.35); }
.pill-neg { background: rgba(239,68,68,.14); color:#ef4444; border: 1px solid rgba(239,68,68,.35); }
.pill-mid { background: rgba(148,163,184,.14); color:#9aa7bd; border: 1px solid rgba(148,163,184,.25); }

/* Footer */
.footer { margin-top: 22px; padding: 20px; color: var(--muted); text-align: center; }

/* Modals */
.modal-backdrop {
  position: fixed; inset: 0; z-index: 50;
  background: rgba(6,8,12,.55);
  backdrop-filter: blur(10px) saturate(1.1);
  display: grid; place-items: center; padding: 16px;
}
.modal {
  width: 100%; max-width: 560px;
  background: var(--glass);
  border: 1px solid rgba(122,162,255,.2);
  border-radius: 16px;
  box-shadow: var(--shadow-2);
  padding: 18px;
}
.modal-head { display:flex; justify-content: space-between; align-items:center; gap:12px; margin-bottom: 10px; }
.close { cursor: pointer; border-radius: 10px; padding: 6px 10px; border: 1px solid rgba(122,162,255,.25); background: rgba(255,255,255,.04); }

/* TradingView wrapper */
.ticker-wrap { position: sticky; top: 54px; z-index: 25; background: rgba(8,10,16,.9); border-bottom: 1px solid rgba(122,162,255,.12); }
.ticker-inner { max-width: 1600px; margin: 0 auto; }
